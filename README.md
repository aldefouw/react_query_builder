# React Query Builder

## Gemfile Dependencies
```
gem 'react_query_builder'

gem 'bootstrap'
gem 'jquery-rails'
gem 'jquery-ui-rails'
gem 'react-rails'
gem 'simple_form'
gem 'reform'
gem 'reform-rails'
```

## Development group in Gemfile
```
gem 'scenic'
```

## Install Migrations and Models
```
rails g react_query_builder:install
```


### Add a New View
```
rails g react_query_builder:view <view_name_here>
```

**Example:**
```
rails g react_query_builder:view person
```



## Run Migrations
`rails db:migrate`



## Button CSS Styling

By default, there is a **react_query_builder.css** file added to your stylesheets directory.  Within that file, you can make any necessary styling adjustments to the look and feel of the Query Builder.

All of the buttons within the application have class references you can use to easily override the default styling provided.

### Apply to All Buttons:
```
# ALL BUTTONS
.rqb_btn { }
```

### Apply to Specific Buttons:
```
# BACK
.rqb_back_btn { }

# RUN
.rqb_run_btn { }

# EDIT
.rqb_edit_btn { }

# DELETE
.rqb_delete_btn { }

# EXCEL
.rqb_excel_btn { }

# CSV 
.rqb_csv_btn { }

# SAVE AS
.rqb_save_as_btn { }

# SAVE
.rqb_save_btn { }

# NEW QUERY
.rqb_new_query_btn { }

# BACK
.rqb_back_btn { }

# DISPLAY FIELDS
.rqb_display_fields_btn { }

```

### Overriding methods using Initializers

You can easily override default behavior of the gem by placing an evaluated version of a class as an initializer file in your app:


You might, for example, create a file named:

`/app/config/initializers/react_query_builder.rb`

To override some controller behavior in the base app:

```
ReactQueryBuilder::QueryBuilderController.class_eval do

	def method_name
		#Whatever override behavior you want to use
	end

end
```

### Default Behavior & Inheritance

React Query Builder uses an abstract class to allow you to set default functionality across the entire Gem.

If you need some default behavior inherited, do it within **QueryBuilderRecord**.  

An example would be if you needed to query against a different database than the one **ActiveRecord** points to in your application.   In that case, you'd change the class that **QueryBuilderRecord** inherits from.

```
app/models/query_builder_record.rb
```

By default, the class inherits from **ApplicationRecord**.

```
class QueryBuilderRecord < ApplicationRecord

	...

end
```

You can also use the **QueryBuilderRecord** to specify any system-wide behavior you want inherited by all other Query Builder views.  

Query Builder views are any models prefixed by **qb_** in the filename.  They are generated by using the `rails g react_query_builder:view <view_name_here>` command.


