<div class="card bg-white my-3 mx-1">
  <%= tag.fieldset class: :fields, 'data-object-name': f.object_name do %>

    <div class="card-header bg-secondary text-white py-2">
      <%= tag.span "Match #{f.combinator_select} conditions #{button_to_remove_grouping}", escape_attributes: false, class: 'qb-grouping-title align-middle' %>
    </div>

    <div class="card-body bg-white">
      <%= f.condition_fields do |c| %>
        <%= render 'condition_fields', f: c %>
      <% end %>

      <%= button_to_add_fields(f, :condition, :add_condition) %>

      <%= f.grouping_fields do |g| %>
        <%= render 'grouping_fields', f: g %>
      <% end %>

      <%= button_to_nest_fields(:grouping, :nested) %>
    </div>
  <% end %>
</div>
